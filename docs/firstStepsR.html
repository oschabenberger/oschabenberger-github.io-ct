<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.552">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Computational and Quantitative Thinking - 5&nbsp; First Steps in R</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./correlation.html" rel="next">
<link href="./datascience.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script src="site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>html{ scroll-behavior: smooth; }</style>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./firstStepsR.html"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">First Steps in <code>R</code></span></a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Computational and Quantitative Thinking</a> 
        <div class="sidebar-tools-main">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Computational Thinking (CT)</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./quant.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Quantitative Thinking (QT)</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cholera.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Case Study: 1854 Cholera Outbreak in Soho, London</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./datascience.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Data Science—CT + QT</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./firstStepsR.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">First Steps in <code>R</code></span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./correlation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Correlation and Causation</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./predictions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Making Predictions</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./life_algorithms.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Algorithms to Live By</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./genAI.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Generative AI</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intuition.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Quantitative Intuition and Problem Solving</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active" data-toc-expanded="2">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#sec-getting-started-R" id="toc-sec-getting-started-R" class="nav-link active" data-scroll-target="#sec-getting-started-R"><span class="header-section-number">5.1</span> Getting Started with R</a>
  <ul>
  <li><a href="#posit-cloud" id="toc-posit-cloud" class="nav-link" data-scroll-target="#posit-cloud">Posit Cloud</a></li>
  <li><a href="#r-and-rstudio" id="toc-r-and-rstudio" class="nav-link" data-scroll-target="#r-and-rstudio"><code>R</code> and RStudio</a></li>
  <li><a href="#installing-packages" id="toc-installing-packages" class="nav-link" data-scroll-target="#installing-packages">Installing Packages</a></li>
  <li><a href="#r-and-.rmd-files" id="toc-r-and-.rmd-files" class="nav-link" data-scroll-target="#r-and-.rmd-files">.R and .Rmd Files</a></li>
  </ul></li>
  <li><a href="#college-data" id="toc-college-data" class="nav-link" data-scroll-target="#college-data"><span class="header-section-number">5.2</span> College Data</a>
  <ul>
  <li><a href="#sec-steps-r-eda" id="toc-sec-steps-r-eda" class="nav-link" data-scroll-target="#sec-steps-r-eda">Exploratory Data Analysis</a></li>
  </ul></li>
  <li><a href="#r-resources" id="toc-r-resources" class="nav-link" data-scroll-target="#r-resources"><span class="header-section-number">5.3</span> R Resources</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span id="sec-steps-r" class="quarto-section-identifier"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">First Steps in <code>R</code></span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<div class="callout callout-style-default callout-tip callout-titled" title="Quotes">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Quotes
</div>
</div>
<div class="callout-body-container callout-body">
<div class="flushright">
<p>Learning to write programs stretches your mind, and helps you think better, creates<br>
a way of thinking about things that I think is helpful in all domains.<br>
<span class="quoteauthor">Bill Gates, Co-founder of Microsoft</span><br>
<br>
The function of good software is to make the complex appear to be simple.<br>
<span class="quoteauthor">Grady Booch, Chief Scientist for Software Engineering at IBM Research</span><br>
<br>
My former manager: “If you write code, you write bugs.”<br>
Me: “I write a lot of code.”</p>
</div>
</div>
</div>
<section id="sec-getting-started-R" class="level2" data-number="5.1">
<h2 data-number="5.1" class="anchored" data-anchor-id="sec-getting-started-R"><span class="header-section-number">5.1</span> Getting Started with R</h2>
<div class="callout callout-style-default callout-tip callout-titled" title="TL;DR What you Need">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
TL;DR What you Need
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>To work with <code>R</code> in this course, you need to be able to run <code>R</code> code, mix it with text in a notebook-style environment, and turn program and output into pdf and html files. To accomplish this you will need</p>
<ul>
<li><strong><code>R</code></strong>. Download from <a href="https://cran.rstudio.com/">CRAN</a></li>
<li><strong>RStudio</strong>. Download RStudio Desktop from <a href="https://posit.co/downloads/">Posit</a></li>
</ul>
<p>You can skip <code>R</code> and RStudio installs if you do the work in a <a href="https://posit.cloud/">Posit Cloud</a> environment. Posit Cloud accaounts are available for free <a href="https://posit.cloud/plans/free">here</a>.</p>
</div>
</div>
</div>
<p>To get started with <code>R</code> as a statistical programming language you need access to <code>R</code> itself and a development environment from which to submit <code>R</code> code.</p>
<p>Download <code>R</code> for your operating system from the <a href="https://cran.rstudio.com/">CRAN</a> site. CRAN is the “Comprehensive R Archive Network” and also serves as the package management system to add new packages to your installation.</p>
<p>If you use VS Code as a development environment, add the “R Extension for Visual Studio” to your environment. We are focusing on RStudio as a development environment here.</p>
<section id="posit-cloud" class="level3">
<h3 class="anchored" data-anchor-id="posit-cloud">Posit Cloud</h3>
<p>In today’s cloud world, you can get both through <a href="https://posit.cloud/">Posit Cloud</a>. Posit is the company behind RStudio, Quarto, and other cool tools. Their cloud offering gives you access to an RStudio instance in the cloud. You can sign up for a free account <a href="https://posit.cloud/plans/free">here</a>. The only drawback of the free account is its limitations in terms of RAM, CPU, execution time, etc. For the work you will be doing in this course, and probably many other courses, you will not exceed the limitations of the free account.</p>
<p>Once you have created an account, the work space is organized the same way as an RStudio session on your desktop.</p>
</section>
<section id="r-and-rstudio" class="level3">
<h3 class="anchored" data-anchor-id="r-and-rstudio"><code>R</code> and RStudio</h3>
<p>RStudio is an integrated development environment (IDE) for <code>R</code>, but supports other languages as well. For example, using Quarto in RStudio, you can mix <code>R</code>, Python, and code from other languages in the same document.</p>
<p>Download Rstudio Desktop <a href="https://posit.co/downloads/">here</a>.</p>
<p>The RStudio IDE is organized in panes, each pane can have multiple tabs (<a href="#fig-rstudio-ide" class="quarto-xref">Figure&nbsp;<span>5.1</span></a>). The important panes are</p>
<ul>
<li><p><strong>Source</strong>. The files you edit. These can be R files (.R), R Markdown (.Rmd), Quarto (.qmd), or any other text files.</p></li>
<li><p><strong>Console</strong>. Here you can enter <code>R</code> commands directly at the command prompt “&gt;”. This pane also has a <code>Terminal</code> tab for an OS terminal and a <code>Background Jobs</code> tab. The latter is important when you “knit” documents into pdf or html format. <em>Knitting</em> a file in RStudio is the process of converting a .Rmd file into a pdf, html, or Word document.</p></li>
<li><p><strong>Environment</strong>. Displays information about the objects created in the <code>R</code> session. You can click on an object for a more detailed look at it in the <code>Viewer</code>.</p></li>
<li><p><strong>Help</strong>. This pane contains many useful tabs, such as a File browser, package information, access to the documentation and help system. Plots generated from the <code>Console</code> or from an <code>R</code> script are displayed in the <code>Plots</code> tab of this pane.</p></li>
</ul>
<div id="fig-rstudio-ide" class="lightbox quarto-figure quarto-figure-center quarto-float anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-rstudio-ide-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="images/RStudio.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1" data-glightbox="description: .lightbox-desc-1"><img src="images/RStudio.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:90.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-rstudio-ide-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;5.1: RStudio IDE
</figcaption>
</figure>
</div>
</section>
<section id="installing-packages" class="level3">
<h3 class="anchored" data-anchor-id="installing-packages">Installing Packages</h3>
<p>Capabilities of <code>R</code> come from functions in packages. The basic <code>R</code> installation comes with basic packages that are loaded automatically into an <code>R</code> session. The <code>stats</code> package, for example, provides many basic statistical functions. To see the packages loaded in your workspace, enter this command at the console prompt:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>(<span class="fu">.packages</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>To add capabilities beyond the basic packages to an <code>R</code> installation, you need to go through a two-step process.</p>
<ol type="1">
<li>Install the package</li>
<li>Load the package in your <code>R</code> session with the <code>library()</code> command.</li>
</ol>
<p>Installing the package is done once, this step adds the package to your system. Loading the library associated with the package is done in every <code>R</code> session that needs to use the functionality of the package. Once you get going with <code>R</code> you will install many packages to tailor <code>R</code> to your needs. Packages that are made available through repositories of <a href="https://cran.r-project.org/">CRAN</a>, the Comprehensive R Archive Network, are known as <strong>standard</strong> packages.</p>
<p>The following command installs three CRAN packages, <code>ISLR2</code>, <code>rpart</code> and <code>rpart.plot</code>, in one fell swoop on your system. Copy the command to the console prompt in <code>RStudio</code> and hit <return>.</return></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="fu">c</span>(<span class="st">"rpart"</span>,<span class="st">"rpart.plot"</span>,<span class="st">"ISLR2"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The <code>ISLR2</code> library provides data sets that are used in <span class="citation" data-cites="James2013_ISLR2">James et al. (<a href="references.html#ref-James2013_ISLR2" role="doc-biblioref">2021</a>)</span>. <code>rpart</code> is a popular library for training decision trees on data and <code>rpart.plot</code> produces nice-looking visualizations of decision trees.</p>
</section>
<section id="r-and-.rmd-files" class="level3">
<h3 class="anchored" data-anchor-id="r-and-.rmd-files">.R and .Rmd Files</h3>
<p>You save <code>R</code> code in two file types. Files with .R extension are called R scripts, they contain <em>pure</em> code and comments. Files with .Rmd extension are in R Markdown notebook format; they combine R code with narrative text and are the basis for high-quality professional documents. Code in R Markdown files is contained in <strong>code chunks</strong>. <a href="#fig-rchunk1" class="quarto-xref">Figure&nbsp;<span>5.2</span></a> shows a level-2 header, narrative text, and a code chunk in a R Markdown document. The code chunk begins with the <code>```{r}</code> and ends with the <code>```</code> character sequence. <code>{r}</code> after the opening ticks indicates that the code that follows is in the R programming language.</p>
<div id="fig-rchunk1" class="quarto-figure quarto-figure-center quarto-float anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-rchunk1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/Rchunk1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:85.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-rchunk1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;5.2: Narrative text and a code chunk in a .Rmd file
</figcaption>
</figure>
</div>
<p>To execute the code in a code chunk there are several options:</p>
<ol type="1">
<li>Place the cursor somewhere in the chunk and hit <code>&lt;Cmd&gt; &lt;Shift&gt; &lt;Return&gt;</code></li>
<li>Click on the green arrow at the right edge of the chunk</li>
<li>Place the cursor on a line of code inside the chunk and hit <code>&lt;Cmd&gt; &lt;Return&gt;</code>.</li>
<li>Highlight several lines of code and hit <code>&lt;Cmd&gt; &lt;Return&gt;</code></li>
</ol>
<p>The first two options execute <strong>all</strong> lines of code inside the chunk–top to bottom. The third option executes only the line the cursor was placed on and advances to the next line of code. One technique to run an entire chunk line by line is to place the cursor at the beginning of the chunk and repeatedly hit <code>&lt;Cmd&gt; &lt;Return&gt;</code> until you reach the end of the chunk.</p>
<p><a href="#fig-rscript1" class="quarto-xref">Figure&nbsp;<span>5.3</span></a> shows the content of an R script. Lines that start with a <code>#</code> character are comments. Executing the code in an R script is akin to options 3 and 4 in the list above. When you place the cursor on a line of code and hit <code>&lt;Cmd&gt; &lt;Return&gt;</code> the line is executed and the cursor advances to the next line. You can also highlight multiple lines and execute them together by hitting <code>&lt;Cmd&gt; &lt;Return&gt;</code>. That is necessary if a function requires to be run together with another function. The <code>legend</code> statement in <a href="#fig-rscript1" class="quarto-xref">Figure&nbsp;<span>5.3</span></a> cannot be run by itself, it needs to be associated with a graphic. To obtain the desired result, a plot with a legend, the <code>plot</code> and <code>legend</code> statement need to be executed together.</p>
<div id="fig-rscript1" class="quarto-figure quarto-figure-center quarto-float anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-rscript1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/Rscript1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:85.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-rscript1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;5.3: Contents of a .R script file
</figcaption>
</figure>
</div>
<p>Instead of hitting the keys to run code you can also click on the “Run” icon near the top of the screen. The available run options are different for R scripts and R Markdown files.</p>
</section>
</section>
<section id="college-data" class="level2" data-number="5.2">
<h2 data-number="5.2" class="anchored" data-anchor-id="college-data"><span class="header-section-number">5.2</span> College Data</h2>
<p>To get familiar with basic steps in working with data in <code>R</code> we use the <code>College</code> data set that is part of the <code>ISLR2</code> package. The data set contains information from the 1995 US News and World Report college rankings on 777 colleges in the U.S. The data frame contains the following variables:</p>
<table class="table-striped table">
<caption>Variables in <code>College</code> data set</caption>
<colgroup>
<col style="width: 33%">
<col style="width: 66%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"><strong>Variable Name</strong></th>
<th style="text-align: left;"><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>Private</code></td>
<td style="text-align: left;">A factor with levels No and Yes indicating private or public university</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>Apps</code></td>
<td style="text-align: left;">Number of applications received</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>Accept</code></td>
<td style="text-align: left;">Number of applications accepted</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>Enroll</code></td>
<td style="text-align: left;">Number of new students enrolled</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>Top10perc</code></td>
<td style="text-align: left;">Pct. new students from top 10% of H.S. class</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>Top25perc</code></td>
<td style="text-align: left;">Pct. new students from top 25% of H.S. class</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>F.Undergrad</code></td>
<td style="text-align: left;">Number of full time undergraduates</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>P.Undergrad</code></td>
<td style="text-align: left;">Number of part time undergraduates</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>Outstate</code></td>
<td style="text-align: left;">Out-of-state tuition</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>Room.Board</code></td>
<td style="text-align: left;">Room and board costs</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>Books</code></td>
<td style="text-align: left;">Estimated book costs</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>Personal</code></td>
<td style="text-align: left;">Estimated personal spending</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>PhD</code></td>
<td style="text-align: left;">Pct. of faculty with Ph.D.’s</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>Terminal</code></td>
<td style="text-align: left;">Pct. of faculty with terminal degree</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>S.F.Ratio</code></td>
<td style="text-align: left;">Student/faculty ratio</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>perc.alumni</code></td>
<td style="text-align: left;">Pct. alumni who donate</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>Expend</code></td>
<td style="text-align: left;">Instructional expenditure per student</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>Grad.Rate</code></td>
<td style="text-align: left;">Graduation rate</td>
</tr>
</tbody>
</table>
<section id="sec-steps-r-eda" class="level3">
<h3 class="anchored" data-anchor-id="sec-steps-r-eda">Exploratory Data Analysis</h3>
<p><strong>Exploratory Data Analysis</strong> (EDA) is the “first date with the data.” EDA consists of computing summary statistics of the variables, visualizing their distribution and exploring relationships between the variables. The goal of EDA is to develop understanding of the data we are dealing with and to suggest interesting questions and subsequent analyses.</p>
<p>EDA can also reveal issues with data quality, for example, data entry errors, outliers, or unobserved (missing) values.</p>
<div class="assignment">
<div class="assignment-header">
<p>Exercise: EDA for College Data</p>
</div>
<div class="assignment-container">
<p>Use the script <code>Colleges.R</code> and answer the following questions:</p>
<ul>
<li><p>Compute simple summary statistics for all variables in the data frame</p></li>
<li><p>Which college has the highest cost for room and board?</p></li>
<li><p>Which college has the highest graduation rate?</p></li>
<li><p>Which colleges have graduation rates above 95%?</p></li>
<li><p>Are there public universities with a graduation rate above 95%?</p></li>
<li><p>Create a scatterplot of graduation rate versus costs for room and board with data points colored by public/private state of the college.</p></li>
<li><p>Create a scatterplot of full time undergraduate enrollment versus out-of-state tuition. Color the data points according to the public/private state of the college.</p></li>
<li><p>Create histograms of the out-of-state tuition and compare private and public colleges. Repeat for the graduation rate.</p></li>
</ul>
<p>What other questions do you suggest asking?</p>
<p>Did the exploratory data analysis so far trigger new questions about the data you did not have before?</p>
</div>
</div>
</section>
</section>
<section id="r-resources" class="level2" data-number="5.3">
<h2 data-number="5.3" class="anchored" data-anchor-id="r-resources"><span class="header-section-number">5.3</span> R Resources</h2>
<ul>
<li><p><a href="https://www.w3schools.com/r/r_intro.asp">W3 Schools Intro to R</a></p></li>
<li><p><a href="https://r4ds.hadley.nz/">R for Data Science, 2nd ed.</a> <span class="citation" data-cites="Wickham_RDS">(<a href="references.html#ref-Wickham_RDS" role="doc-biblioref">Wickham, Cetinkaya-Rundel, and Grolemund 2023</a>)</span>.</p></li>
<li><p><a href="http://adv-r.had.co.nz/">Advanced R</a> <span class="citation" data-cites="Wickham_AdvR">(<a href="references.html#ref-Wickham_AdvR" role="doc-biblioref">Wickham 2019</a>)</span>.</p></li>
<li><p><a href="https://mdsr-book.github.io/mdsr3e/">Modern Data Science with R, 2nd ed.</a> <span class="citation" data-cites="Baumer_etal">(<a href="references.html#ref-Baumer_etal" role="doc-biblioref">Baumer, Kaplan, and Horton 2021</a>)</span>.</p></li>
<li><p><a href="https://r-graphics.org/">R Graphics Cookbook: Practical Recipes for Visualizing Data, 2nd ed.</a> <span class="citation" data-cites="Chang_2018">(<a href="references.html#ref-Chang_2018" role="doc-biblioref">Chang 2018</a>)</span></p></li>
<li><p><a href="https://bookdown.org/yihui/rmarkdown/">R Markdown: The Definite Guide</a> <span class="citation" data-cites="Xie_etal">(<a href="references.html#ref-Xie_etal" role="doc-biblioref">Xie, Allaire, and Grolemund 2019</a>)</span></p></li>
<li><p><a href="https://bookdown.org/yihui/rmarkdown-cookbook/">R Markdown Cookbook</a> <span class="citation" data-cites="Xie_Cookbook">(<a href="references.html#ref-Xie_Cookbook" role="doc-biblioref">Xie, Dervieux, and Riederer 2021</a>)</span></p></li>
<li><p><a href="https://bookdown.org/rdpeng/RProgDA/">Mastering Software Development in R</a> <span class="citation" data-cites="Pengetal2020">(<a href="references.html#ref-Pengetal2020" role="doc-biblioref">Peng, Kross, and Anderson 2020</a>)</span></p></li>
</ul>


<div class="hidden" aria-hidden="true">
<span class="glightbox-desc lightbox-desc-1">Figure&nbsp;5.1: RStudio IDE</span>
</div>
<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list" style="display: none">
<div id="ref-Baumer_etal" class="csl-entry" role="listitem">
Baumer, Benjamin S., Kaplan. Daniel T., and Nicholas J. Horton. 2021. <em>Modern Data Science with r, 2nd Ed.</em> Chapman &amp; Hall/CRC Press. <a href="https://mdsr-book.github.io/mdsr3e/">https://mdsr-book.github.io/mdsr3e/</a>.
</div>
<div id="ref-Chang_2018" class="csl-entry" role="listitem">
Chang, Winston. 2018. <em>R Graphics Cookbook: Practical Recipes for Visualizing Data, 2nd Ed.</em> O’Reilly Media. <a href="https://r-graphics.org/">https://r-graphics.org/</a>.
</div>
<div id="ref-James2013_ISLR2" class="csl-entry" role="listitem">
James, Gareth, Daniela Witten, Trevor Hastie, and Robert Tibshirani. 2021. <em>An Introduction to Statistical Learning: With Applications in r, 2nd Ed.</em> Springer. <a href="https://www.statlearning.com/">https://www.statlearning.com/</a>.
</div>
<div id="ref-Pengetal2020" class="csl-entry" role="listitem">
Peng, Roger D., Sean Kross, and Brooke Anderson. 2020. <em>Mastering Software Development in r</em>. <a href="https://bookdown.org/rdpeng/RProgDA/">https://bookdown.org/rdpeng/RProgDA/</a>.
</div>
<div id="ref-Wickham_AdvR" class="csl-entry" role="listitem">
Wickham, H. 2019. <em>Advanced r, 2nd Ed.</em> Chapman &amp; Hall/CRC Press. <a href="http://adv-r.had.co.nz/">http://adv-r.had.co.nz/</a>.
</div>
<div id="ref-Wickham_RDS" class="csl-entry" role="listitem">
Wickham, H., M. Cetinkaya-Rundel, and G. Grolemund. 2023. <em>R for Data Science: Import, Tidy, Transform, Visualize, and Model Data, 2nd Ed.</em> O’Reilly Media. <a href="https://r4ds.hadley.nz/">https://r4ds.hadley.nz/</a>.
</div>
<div id="ref-Xie_etal" class="csl-entry" role="listitem">
Xie, Yihui, J. J. Allaire, and Garrett Grolemund. 2019. <em>R Markdown: The Definite Guide</em>. Chapman &amp; Hall/CRC Press. <a href="https://bookdown.org/yihui/rmarkdown/">https://bookdown.org/yihui/rmarkdown/</a>.
</div>
<div id="ref-Xie_Cookbook" class="csl-entry" role="listitem">
Xie, Yihui, Dervieux Christophe, and Emily Riederer. 2021. <em>R Markdown Cookbook</em>. Chapman &amp; Hall/CRC Press. <a href="https://bookdown.org/yihui/rmarkdown-cookbook/">https://bookdown.org/yihui/rmarkdown-cookbook/</a>.
</div>
</div>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./datascience.html" class="pagination-link" aria-label="Data Science---CT + QT">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Data Science—CT + QT</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./correlation.html" class="pagination-link" aria-label="Correlation and Causation">
        <span class="nav-page-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Correlation and Causation</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>Computational Thinking by Oliver Schabenberger</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
<p>This book was built with <a href="https://quarto.org/">Quarto</a>.</p>
</div>
  </div>
</footer>
<script>var lightboxQuarto = GLightbox({"openEffect":"zoom","closeEffect":"zoom","loop":false,"selector":".lightbox","descPosition":"bottom"});
window.onload = () => {
  lightboxQuarto.on('slide_before_load', (data) => {
    const { slideIndex, slideNode, slideConfig, player, trigger } = data;
    const href = trigger.getAttribute('href');
    if (href !== null) {
      const imgEl = window.document.querySelector(`a[href="${href}"] img`);
      if (imgEl !== null) {
        const srcAttr = imgEl.getAttribute("src");
        if (srcAttr && srcAttr.startsWith("data:")) {
          slideConfig.href = srcAttr;
        }
      }
    } 
  });

  lightboxQuarto.on('slide_after_load', (data) => {
    const { slideIndex, slideNode, slideConfig, player, trigger } = data;
    if (window.Quarto?.typesetMath) {
      window.Quarto.typesetMath(slideNode);
    }
  });

};
          </script>




<script src="site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>